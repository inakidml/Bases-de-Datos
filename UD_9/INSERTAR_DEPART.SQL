CREATE OR REPLACE PROCEDURE insertar_depart(V_DNOMBRE DEPART.DNOMBRE%TYPE, V_LOC DEPART.LOC%TYPE)
IS
NO_ENCONTRADO BOOLEAN;
NUEVO_DEPT_NO DEPART.DEPT_NO%TYPE;
BEGIN
NO_ENCONTRADO:=TRUE;
FOR DEPARTAMENTO IN (SELECT DNOMBRE FROM DEPART)
LOOP
IF DEPARTAMENTO.DNOMBRE LIKE V_DNOMBRE THEN --OJO PONEMOS .LA COLUMNA, SI NO EL CURSOR CASCA AL COMPILAR
NO_ENCONTRADO:=FALSE;

END IF;
END LOOP;
IF NO_ENCONTRADO THEN
SELECT MAX(DEPT_NO) INTO NUEVO_DEPT_NO FROM DEPART;
INSERT INTO DEPART (DEPT_NO, DNOMBRE, LOC) VALUES(NUEVO_DEPT_NO+10, V_DNOMBRE, V_LOC);
ELSE
DBMS_OUTPUT.PUT_line('DEPARTAMENTO EXISTENTE');
END IF;
END;